name: 'W-ASAP'
host: 'db.wasap.genspectrum.org'

logo:
  url: 'https://db.wasap.genspectrum.org/static/images/wasap-logo.png'
  width: 200
  height: 180

bannerMessage: ''

loculus_environment: 'local' # Do not change this: this setup uses a "local" environment as the public traffic is proxied through nginx.

runDevelopmentMainDatabase: false
runDevelopmentKeycloakDatabase: false
runDevelopmentS3: false

welcomeMessageHTML: '
    <section aria-labelledby="welcome-heading" class="mt-6">
      <h1 id="welcome-heading" class="text-3xl sm:text-4xl font-semibold text-primary">
          Welcome to W-ASAP
      </h1>
      
      <div class="mt-4 text-base text-slate-700 leading-relaxed space-y-4">
          <p>
              W-ASAP (<em>Wastewater Analysis and Sharing Platform</em>) is an open-source database that makes it easier for researchers and public health workers to share, review, and act on viral wastewater pathogen genomic data.
          </p>
          
          <p>
              This database powers the interactive visualizations and analyses available on <a href="https://staging.genspectrum.org/swiss-wastewater/covid">GenSpectrum W-ASAP</a>. Here we share processed alignment files and intermediary files for real-time plotting and analysis of wastewater surveillance data.
          </p>
          
          <p class="text-sm text-slate-600">
              Built with <a href="https://loculus.org">Loculus</a> — an open-source platform for pathogen sequence sharing.
          </p>
      </div>
      
      <div class="mt-6 flex flex-wrap gap-3">
          <a class="inline-flex items-center justify-center rounded-md px-3 md:px-5 py-2 text-base font-semibold text-primary shadow-sm transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 no-underline hover:no-underline border border-primary/60 bg-primary-50 hover:bg-primary-200" 
            href="https://staging.genspectrum.org/swiss-wastewater/covid">
              Analyze SARS-CoV-2
          </a>
          <a class="inline-flex items-center justify-center rounded-md px-3 md:px-5 py-2 text-base font-semibold text-primary shadow-sm transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 no-underline hover:no-underline border border-primary/40 bg-white hover:bg-primary/10" 
            href="https://www.ebi.ac.uk/ena/browser/view/PRJEB85524">
              View on ENA
          </a>
      </div>
      
      <div class="mt-8 grid gap-6 md:grid-cols-2">
          <div class="rounded-2xl border border-base-200/70 bg-base-100 p-5 shadow-sm">
              <h3 class="text-lg font-semibold text-slate-900 mb-3">Features</h3>
              <ul class="list-disc list-inside space-y-2 text-sm text-slate-700">
                  <li>Retrieve data through a simple web interface or programmatically via our API.</li>
                  <li>Browse genomic alignments with powerful search and filtering options.</li>
              </ul>
          </div>
          
          <div class="rounded-2xl border border-base-200/70 bg-base-100 p-5 shadow-sm">
              <h3 class="text-lg font-semibold text-slate-900 mb-3">Who is behind W-ASAP?</h3>
              <p class="text-sm text-slate-700">
                  A joint effort of the <a href="https://bsse.ethz.ch/cbg">Computational Biology Group (CBG)</a> and <a href="https://bsse.ethz.ch/cevo">Computational Evolution Group (cEvo)</a> at ETH Zürich.
              </p>
              <p class="text-sm text-slate-600 mt-3">
                  We currently support SARS-CoV-2. For complete raw sequencing data and metadata, please refer to our ENA project: <a href="https://www.ebi.ac.uk/ena/browser/view/PRJEB85524">PRJEB85524</a> (Study: <a href="https://www.ebi.ac.uk/ena/browser/view/ERP168898">ERP168898</a>).
              </p>
          </div>
      </div>
  </section>'



public:
  backendUrl: 'https://api.db.wasap.genspectrum.org/backend'
  lapisUrlTemplate: 'https://api.db.wasap.genspectrum.org/%organism%'
  keycloakUrl: 'https://auth.db.wasap.genspectrum.org'

auth:
  verifyEmail: false
  resetPasswordAllowed: false
  registrationAllowed: true

seqSets:
  enabled: false

gitHubMainUrl: 'https://github.com/cbg-ethz/WisePulse'

s3:
  enabled: true
  bucket:
    region: eu-central
    endpoint: https://fsn1.your-objectstorage.com/
    bucket: wasap

organisms:
   covid:
    schema:
      organismName: 'SARS-CoV-2'
      image: 'https://db.wasap.genspectrum.org/static/images/covid-virus.png'
      metadata:
        - name: date
          type: date
          header: Sample details
          displayName: Submission Date
        - name: sampleId
          type: string
          header: Sample details
          displayName: Sample ID
          initiallyVisible: true
        - name: batchId
          type: string
          definition: "Sequencing batch"
          header: Sample details
          displayName: Batch ID
        - name: locationCode
          type: string
          header: Sample details
          displayName: Location Code
        - name: locationName
          type: string
          generateIndex: true
          autocomplete: true
          header: Sample details
          displayName: Location
          initiallyVisible: true
        - name: samplingDate
          type: date
          header: Sample details
          displayName: Sampling Date
          initiallyVisible: true
        - name: sr2siloVersion
          type: string
          header: srSILO info
          definition: "Version of sr2silo used for preprocessing"
          displayName: sr2silo Version
          hideOnSequenceDetailsPage: true
          hideInSearchResultsTable: true
        - name: countSiloReads
          type: string
          header: srSILO info
          hideOnSequenceDetailsPage: true
          hideInSearchResultsTable: true
          definition: "Number of reads subsampled srSILO alignments"
          displayName: srSILO Read Count 
      website:
        tableColumns:
          - date
          - locationName
          - samplingDate
        defaultOrder: ascending
        defaultOrderBy: date
      submissionDataTypes:
        consensusSequences: false
        files:
          enabled: true
          categories:
            - name: nucleotideAlignment
            - name: siloReads
      files:
        - name: nucleotideAlignment
        - name: siloReads
    preprocessing:
      - version: 1
        image: ghcr.io/loculus-project/preprocessing-dummy
        args:
          - "--watch"
          - "--disableConsensusSequences"
    referenceGenomes:
      singleReference:
        nucleotideSequences: []
        genes: []

dataUseTerms:
  enabled: false
disableIngest: true
disableEnaSubmission: true
accessionPrefix: "WISE_"
